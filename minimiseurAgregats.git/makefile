#######################################################################################
# CONFIGURATION
#######################################################################################


GPP=g++ -Wall -std=c++20 -Iincludes -Iincludes/headers -Iincludes/templates
GSL_LIBS=-lgsl -lgslcblas -lm

EXE=./src/main.exe
SRC=$(wildcard src/*.cpp)
OBJ=$(SRC:.cpp=.o)

#######################################################################################

all: ${EXE} 

#######################################################################################	

# Compilation

# Des classes
%.o:%.cpp %.h
	${GPP} -c -o $@ $<

# Des programmes principaux
%.o:%.cpp
	${GPP} -c -o $@ $<

#######################################################################################

# Linking
${EXE}: ${OBJ}
	${GPP} -o $@ ${OBJ} ${GSL_LIBS}

#######################################################################################

clean:
	rm -rf *.o ${EXE} auto_*.dat
